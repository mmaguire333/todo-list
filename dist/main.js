(()=>{"use strict";let e=document.createElement("div"),t=document.createElement("input");t.type="text",t.id="new-project-name",t.name="new-project-name",t.required=!0,t.placeholder="Enter project title";let n=document.createElement("button");n.type="button",n.textContent="Submit",n.classList.add("submit-project-button");let o=document.createElement("button");o.type="button",o.textContent="Cancel",o.classList.add("cancel-button");let d=document.createElement("div");d.classList.add("project-form-buttons"),d.appendChild(n),d.appendChild(o),e.appendChild(t),e.appendChild(d);let l=document.querySelector(".projects");function i(){t.value="",e.remove()}const c={projects:[],getProjects(){return this.projects},addProject(e){this.projects.push(e)},removeProject(e){let t=this.projects.findIndex((t=>t.name===e));this.projects.splice(t,1)}};let r=document.createElement("div");r.classList.add("todo-form-container");let a=document.createElement("input");a.type="text",a.classList.add("todo-title-input");let s=document.createElement("input");s.type="text",s.classList.add("todo-description-input");let u=document.createElement("input");u.type="date",u.classList.add("duedate-input");let m=document.createElement("select");m.id="todo-priority";let p=document.createElement("option");p.textContent="High Priority",p.value="High",p.selected=!0;let C=document.createElement("option");C.textContent="Medium Priority",C.value="Medium";let E=document.createElement("option");E.textContent="Low Priority",E.value="Low",m.appendChild(p),m.appendChild(C),m.appendChild(E);let h=document.createElement("select");h.id="todo-status-dropdown",h.name="todo-status-dropdown";let v=document.createElement("option");v.textContent="No",v.value="no",v.selected=!0;let y=document.createElement("option");y.textContent="Yes",y.value="yes",h.appendChild(y),h.appendChild(v);let b=document.createElement("button");b.type="button",b.textContent="Submit",b.id="submit-todo";let g=document.createElement("button");g.type="button",g.textContent="Cancel",g.id="cancel-todo";let f=document.createElement("div");f.appendChild(b),f.appendChild(g),r.appendChild(a),r.appendChild(s),r.appendChild(u),r.appendChild(m),r.appendChild(h),r.appendChild(f);let x=document.querySelector(".content");function S(){a.value="",s.value="",u.value="",v.selected=!0,p.selected=!0,r.remove()}let j=document.querySelector(".todos");function L(e){let t=document.createElement("li"),n=document.createElement("div");n.classList.add("todo-container");let o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=e.title;let d=document.createElement("p");d.classList.add("todo-description-paragraph"),d.textContent=e.description;let l=document.createElement("p");l.classList.add("todo-due-date"),l.textContent=e.dueDate;let i=document.createElement("p");i.classList.add(".todo-priority"),i.textContent=e.priority;let c=document.createElement("p");c.classList.add(".todo-status"),c.textContent=e.isDone;let r=document.createElement("button");r.type="button",r.id="edit-todo-btn",r.textContent="Edit";let a=document.createElement("button");a.type="button",a.id="delete-todo-button",a.textContent="Delete",n.appendChild(o),n.appendChild(d),n.appendChild(i),n.appendChild(c),n.appendChild(l),n.appendChild(r),n.appendChild(a),t.appendChild(n),j.appendChild(t)}document.querySelector(".new-project").addEventListener("click",(()=>{l.appendChild(e)})),document.addEventListener("click",(function(e){e.target.closest(".cancel-button")&&i()})),document.addEventListener("click",(function(e){const t=e.target.closest(".submit-project-button");let n=document.querySelector(".projects-list"),o=document.createElement("li");o.classList.add("sidebar-project-item");let d=document.createElement("button");d.type="button",d.textContent="X",d.classList.add("delete-button");let l=document.createElement("div");if(l.classList.add("sidebar-project-container"),l.appendChild(o),l.appendChild(d),t){for(let e=0;e<c.getProjects().length;e++)if(document.getElementById("new-project-name").value===c.getProjects()[e].name)return void alert("A project with this name already exists. Please choose a different name.");let e={name:document.getElementById("new-project-name").value,todos:[],addTodo(e){this.todos.push(e)},removeTodo(e){let t=this.todos.findIndex((t=>t.name===e.name));this.todos.splice(t,1)}};c.addProject(e),i(),o.textContent=e.name,n.appendChild(l)}})),document.addEventListener("click",(function(e){const t=e.target.closest(".delete-button");if(t){let e=t.previousElementSibling.textContent;if(document.querySelector(".content-title").textContent===e){document.querySelector(".content-title").textContent="",document.getElementById("add-todo-button").style.display="none";let e=document.querySelector(".todos");for(;e.firstChild;)e.firstChild.remove()}c.removeProject(e),t.parentNode.remove()}})),document.addEventListener("click",(function(e){const t=e.target.closest(".sidebar-project-item");if(t){let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";t.style.backgroundColor="lightgray",document.querySelector(".content");let n=document.querySelector(".content-title"),o=document.querySelector(".todos");for(;o.firstChild;)o.firstChild.remove();n.textContent=t.textContent;let d=document.getElementById("add-todo-button");"none"===d.style.display&&(d.style.display="block");let l=c.getProjects().find((e=>e.name===n.textContent)).todos;for(let e=0;e<l.length;e++)L(l[e])}})),document.addEventListener("click",(function(e){e.target.closest("#add-todo-button")&&x.appendChild(r)})),document.addEventListener("click",(function(e){e.target.closest("#cancel-todo")&&S()})),document.addEventListener("click",(function(e){if(e.target.closest("#submit-todo")){let e=document.querySelector(".content-title"),t=c.getProjects().find((t=>t.name===e.textContent)),n=document.querySelector(".todo-title-input").value,o=document.querySelector(".todo-description-input").value,d=document.querySelector(".duedate-input").value,l=document.getElementById("todo-priority").value,i=document.getElementById("todo-status-dropdown").value,r={title:n,description:o,dueDate:d,priority:l,isDone:i};t.addTodo(r),S(),L(r)}})),document.addEventListener("click",(function(e){const t=e.target.closest("#delete-todo-button");if(t){let e=c.getProjects().find((e=>e.name===document.querySelector(".content-title").textContent)),n=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,o=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,d=e.todos.find((e=>e.title===n&&e.description===o));e.removeTodo(d);let l=document.querySelector(".todos");for(;l.firstChild;)l.firstChild.remove();let i=e.todos;for(let e=0;e<i.length;e++)L(i[e])}}))})();