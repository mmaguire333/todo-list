(()=>{"use strict";let t=document.createElement("div"),e=document.createElement("input");e.type="text",e.id="new-project-name",e.name="new-project-name",e.required=!0,e.placeholder="Enter project title";let n=document.createElement("button");n.type="button",n.textContent="Submit",n.classList.add("submit-project-button");let o=document.createElement("button");o.type="button",o.textContent="Cancel",o.classList.add("cancel-button");let d=document.createElement("div");d.classList.add("project-form-buttons"),d.appendChild(n),d.appendChild(o),t.appendChild(e),t.appendChild(d);let l=document.querySelector(".projects");function c(){e.value="",t.remove()}const i={projects:[],getProjects(){return this.projects},addProject(t){this.projects.push(t)},removeProject(t){let e=this.projects.findIndex((e=>e.name===t));this.projects.splice(e,1)}};let a=document.createElement("div");a.classList.add("todo-form-container");let r=document.createElement("input");r.type="text",r.classList.add("todo-title-input");let u=document.createElement("input");u.type="text",u.classList.add("todo-description-input");let s=document.createElement("input");s.type="date",s.classList.add("duedate-input");let p=document.createElement("select");p.id="todo-priority";let m=document.createElement("option");m.textContent="High Priority",m.value="High",m.selected=!0;let C=document.createElement("option");C.textContent="Medium Priority",C.value="Medium";let h=document.createElement("option");h.textContent="Low Priority",h.value="Low",p.appendChild(m),p.appendChild(C),p.appendChild(h);let E=document.createElement("select");E.id="todo-status-dropdown",E.name="todo-status-dropdown";let y=document.createElement("option");y.textContent="No",y.value="no",y.selected=!0;let b=document.createElement("option");b.textContent="Yes",b.value="yes",E.appendChild(b),E.appendChild(y);let v=document.createElement("button");v.type="button",v.textContent="Submit",v.id="submit-todo";let x=document.createElement("button");x.type="button",x.textContent="Cancel",x.id="cancel-todo";let f=document.createElement("div");f.appendChild(v),f.appendChild(x),a.appendChild(r),a.appendChild(u),a.appendChild(s),a.appendChild(p),a.appendChild(E),a.appendChild(f);let j=document.querySelector(".content");function L(){r.value="",u.value="",s.value="",y.selected=!0,m.selected=!0,a.remove()}let g=document.querySelector(".todos");function S(t){let e=document.createElement("li"),n=document.createElement("div");n.classList.add("todo-container");let o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=t.title;let d=document.createElement("p");d.classList.add("todo-description-paragraph"),d.textContent=t.description;let l=document.createElement("p");l.classList.add("todo-due-date"),l.textContent=t.dueDate;let c=document.createElement("p");c.classList.add(".todo-priority"),c.textContent=t.priority;let i=document.createElement("p");i.classList.add(".todo-status"),i.textContent=t.isDone;let a=document.createElement("button");a.type="button",a.id="edit-todo-btn",a.textContent="Edit";let r=document.createElement("button");r.type="button",r.id="delete-todo-button",r.textContent="Delete",n.appendChild(o),n.appendChild(d),n.appendChild(c),n.appendChild(i),n.appendChild(l),n.appendChild(a),n.appendChild(r),e.appendChild(n),g.appendChild(e)}document.querySelector(".new-project").addEventListener("click",(()=>{l.appendChild(t)})),document.addEventListener("click",(function(t){t.target.closest(".cancel-button")&&c()})),document.addEventListener("click",(function(t){const e=t.target.closest(".submit-project-button");let n=document.querySelector(".projects-list"),o=document.createElement("li"),d=document.createElement("button");d.type="button",d.textContent="X",d.classList.add("delete-button");let l=document.createElement("div");if(l.classList.add("sidebar-project-container"),l.appendChild(o),l.appendChild(d),e){let t={name:document.getElementById("new-project-name").value,todos:[],addTodo(t){this.todos.push(t)},removeTodo(t){let e=this.todos.findIndex((e=>e.name===t.name));this.todos.splice(e,1)}};i.addProject(t),c(),o.textContent=t.name,n.appendChild(l)}})),document.addEventListener("click",(function(t){const e=t.target.closest(".delete-button");if(e){let t=e.previousElementSibling.textContent;i.removeProject(t),e.parentNode.remove()}})),document.addEventListener("click",(function(t){const e=t.target.closest(".sidebar-project-container");if(e){let t=document.querySelectorAll(".sidebar-project-container");for(let e=0;e<t.length;e++)t[e].style.backgroundColor="transparent";e.style.backgroundColor="lightgray",document.querySelector(".content");let n=document.querySelector(".content-title"),o=document.querySelector(".todos");for(;o.firstChild;)o.firstChild.remove();n.textContent=e.firstChild.textContent;let d=document.getElementById("add-todo-button");"none"===d.style.display&&(d.style.display="block");let l=i.getProjects().find((t=>t.name===n.textContent)).todos;for(let t=0;t<l.length;t++)S(l[t])}})),document.addEventListener("click",(function(t){t.target.closest("#add-todo-button")&&j.appendChild(a)})),document.addEventListener("click",(function(t){t.target.closest("#cancel-todo")&&L()})),document.addEventListener("click",(function(t){if(t.target.closest("#submit-todo")){let t=document.querySelector(".content-title"),e=i.getProjects().find((e=>e.name===t.textContent)),n=document.querySelector(".todo-title-input").value,o=document.querySelector(".todo-description-input").value,d=document.querySelector(".duedate-input").value,l=document.getElementById("todo-priority").value,c=document.getElementById("todo-status-dropdown").value,a={title:n,description:o,dueDate:d,priority:l,isDone:c};e.addTodo(a),L(),S(a)}}))})();