(()=>{"use strict";let e=document.createElement("div"),t=document.createElement("input");t.type="text",t.id="new-project-name",t.name="new-project-name",t.required=!0,t.placeholder="Enter project title";let n=document.createElement("button");n.type="button",n.textContent="Submit",n.classList.add("submit-project-button");let o=document.createElement("button");o.type="button",o.textContent="Cancel",o.classList.add("cancel-button");let d=document.createElement("div");d.classList.add("project-form-buttons"),d.appendChild(n),d.appendChild(o),e.appendChild(t),e.appendChild(d);let i=document.querySelector(".projects");function l(){t.value="",e.remove()}const c={projects:[],getProjects(){return this.projects},addProject(e){this.projects.push(e)},removeProject(e){let t=this.projects.findIndex((t=>t.name===e));this.projects.splice(t,1)}};let r=document.createElement("div");r.classList.add("todo-form-container");let a=document.createElement("input");a.type="text",a.classList.add("todo-title-input");let u=document.createElement("input");u.type="text",u.classList.add("todo-description-input");let s=document.createElement("input");s.type="date",s.classList.add("duedate-input");let p=document.createElement("select");p.id="todo-priority";let m=document.createElement("option");m.textContent="High Priority",m.value="High",m.selected=!0;let C=document.createElement("option");C.textContent="Medium Priority",C.value="Medium";let h=document.createElement("option");h.textContent="Low Priority",h.value="Low",p.appendChild(m),p.appendChild(C),p.appendChild(h);let E=document.createElement("select");E.id="todo-status-dropdown",E.name="todo-status-dropdown";let v=document.createElement("option");v.textContent="No",v.value="no",v.selected=!0;let b=document.createElement("option");b.textContent="Yes",b.value="yes",E.appendChild(b),E.appendChild(v);let y=document.createElement("button");y.type="button",y.textContent="Submit",y.id="submit-todo";let g=document.createElement("button");g.type="button",g.textContent="Cancel",g.id="cancel-todo";let x=document.createElement("div");x.appendChild(y),x.appendChild(g),r.appendChild(a),r.appendChild(u),r.appendChild(s),r.appendChild(p),r.appendChild(E),r.appendChild(x);let f=document.querySelector(".content");function S(){a.value="",u.value="",s.value="",v.selected=!0,m.selected=!0,r.remove()}let L=document.querySelector(".todos");function j(e){let t=document.createElement("li"),n=document.createElement("div");n.classList.add("todo-container");let o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=e.title;let d=document.createElement("p");d.classList.add("todo-description-paragraph"),d.textContent=e.description;let i=document.createElement("p");i.classList.add("todo-due-date"),i.textContent=e.dueDate;let l=document.createElement("p");l.classList.add(".todo-priority"),l.textContent=e.priority;let c=document.createElement("p");c.classList.add(".todo-status"),c.textContent=e.isDone;let r=document.createElement("button");r.type="button",r.id="edit-todo-btn",r.textContent="Edit";let a=document.createElement("button");a.type="button",a.id="delete-todo-button",a.textContent="Delete",n.appendChild(o),n.appendChild(d),n.appendChild(l),n.appendChild(c),n.appendChild(i),n.appendChild(r),n.appendChild(a),t.appendChild(n),L.appendChild(t)}let q=document.createElement("div");q.classList.add("todo-form-container");let P=document.createElement("input");P.type="text",P.classList.add("todo-title-input");let w=document.createElement("input");w.type="text",w.classList.add("todo-description-input");let k=document.createElement("input");k.type="date",k.classList.add("duedate-input");let I=document.createElement("select");I.id="todo-priority";let D=document.createElement("option");D.textContent="High Priority",D.value="High";let B=document.createElement("option");B.textContent="Medium Priority",B.value="Medium";let H=document.createElement("option");H.textContent="Low Priority",H.value="Low",I.appendChild(D),I.appendChild(B),I.appendChild(H);let M=document.createElement("select");M.id="todo-status-dropdown",M.name="todo-status-dropdown";let T=document.createElement("option");T.textContent="No",T.value="no",T.selected=!0;let N=document.createElement("option");N.textContent="Yes",N.value="yes",M.appendChild(N),M.appendChild(T);let A=document.createElement("button");A.type="button",A.textContent="Save Changes",A.id="save-todo-changes";let Y=document.createElement("button");Y.type="button",Y.textContent="Cancel",Y.id="cancel-todo";let X=document.createElement("div");X.appendChild(A),X.appendChild(Y),q.appendChild(P),q.appendChild(w),q.appendChild(k),q.appendChild(I),q.appendChild(M),q.appendChild(X);let z,F=document.querySelector(".content");function G(){q.remove()}document.querySelector(".new-project").addEventListener("click",(()=>{i.appendChild(e)})),document.addEventListener("click",(function(e){e.target.closest(".cancel-button")&&l()})),document.addEventListener("click",(function(e){const t=e.target.closest(".submit-project-button");let n=document.querySelector(".projects-list"),o=document.createElement("li");o.classList.add("sidebar-project-item");let d=document.createElement("button");d.type="button",d.textContent="X",d.classList.add("delete-button");let i=document.createElement("div");if(i.classList.add("sidebar-project-container"),i.appendChild(o),i.appendChild(d),t){for(let e=0;e<c.getProjects().length;e++)if(document.getElementById("new-project-name").value===c.getProjects()[e].name)return void alert("A project with this name already exists. Please choose a different name.");let e={name:document.getElementById("new-project-name").value,todos:[],addTodo(e){this.todos.push(e)},removeTodo(e){let t=this.todos.findIndex((t=>t.name===e.name));this.todos.splice(t,1)}};c.addProject(e),l(),o.textContent=e.name,n.appendChild(i)}})),document.addEventListener("click",(function(e){const t=e.target.closest(".delete-button");if(t){let e=t.previousElementSibling.textContent;if(document.querySelector(".content-title").textContent===e){document.querySelector(".content-title").textContent="",document.getElementById("add-todo-button").style.display="none";let e=document.querySelector(".todos");for(;e.firstChild;)e.firstChild.remove()}c.removeProject(e),t.parentNode.remove()}})),document.addEventListener("click",(function(e){const t=e.target.closest(".sidebar-project-item");if(t){let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";t.style.backgroundColor="lightgray",document.querySelector(".content");let n=document.querySelector(".content-title"),o=document.querySelector(".todos");for(;o.firstChild;)o.firstChild.remove();n.textContent=t.textContent;let d=document.getElementById("add-todo-button");"none"===d.style.display&&(d.style.display="block");let i=c.getProjects().find((e=>e.name===n.textContent)).todos;for(let e=0;e<i.length;e++)j(i[e])}})),document.addEventListener("click",(function(e){e.target.closest("#add-todo-button")&&f.appendChild(r)})),document.addEventListener("click",(function(e){e.target.closest("#cancel-todo")&&S()})),document.addEventListener("click",(function(e){if(e.target.closest("#submit-todo")){let e=document.querySelector(".content-title"),t=c.getProjects().find((t=>t.name===e.textContent)),n=document.querySelector(".todo-title-input").value,o=document.querySelector(".todo-description-input").value,d=document.querySelector(".duedate-input").value,i=document.getElementById("todo-priority").value,l=document.getElementById("todo-status-dropdown").value,r={title:n,description:o,dueDate:d,priority:i,isDone:l};t.addTodo(r),S(),j(r)}})),document.addEventListener("click",(function(e){const t=e.target.closest("#delete-todo-button");if(t){let e=c.getProjects().find((e=>e.name===document.querySelector(".content-title").textContent)),n=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,o=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,d=e.todos.find((e=>e.title===n&&e.description===o));e.removeTodo(d);let i=document.querySelector(".todos");for(;i.firstChild;)i.firstChild.remove();let l=e.todos;for(let e=0;e<l.length;e++)j(l[e])}})),document.addEventListener("click",(function(e){const t=e.target.closest("#edit-todo-btn");if(t){let e=c.getProjects().find((e=>e.name===document.querySelector(".content-title").textContent)),o=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,d=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent;z=e.todos.find((e=>e.title===o&&e.description===d)),n=z,P.value=n.title,w.value=n.description,k.value=n.dueDate,"High"===n.priority?D.selected=!0:"Medium"===n.priority?B.selected=!0:H.selected=!0,"yes"===n.isDone?N.selected=!0:T.selected=!0,F.appendChild(q)}var n})),document.addEventListener("click",(function(e){e.target.closest("#cancel-todo")&&G()})),document.addEventListener("click",(function(e){if(e.target.closest("#save-todo-changes")){let e,t=document.querySelector(".todo-title-input").value,n=document.querySelector(".todo-description-input").value,o=document.querySelector(".duedate-input").value,d=document.getElementById("todo-priority").value,i=document.getElementById("todo-status-dropdown").value,l=document.querySelector(".todos").children;for(let t=0;t<l.length;t++)l[t].firstChild.firstChild.textContent===z.title&&l[t].firstChild.firstChild.nextSibling.textContent===z.description&&(e=l[t].firstChild);z.title=t,z.description=n,z.dueDate=o,z.priority=d,z.isDone=i,e.firstChild.textContent=t,e.firstChild.nextSibling.textContent=n,e.firstChild.nextSibling.nextSibling.textContent=d,e.firstChild.nextSibling.nextSibling.nextSibling.textContent=i,e.firstChild.nextSibling.nextSibling.nextSibling.nextSibling.textContent=o,G()}}))})();