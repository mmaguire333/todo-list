(()=>{"use strict";let e=document.createElement("form");e.classList.add("project-form");let t=document.createElement("input");t.type="text",t.id="new-project-name",t.name="new-project-name",t.required=!0,t.placeholder="Enter project title";let n=document.createElement("button");n.type="button",n.textContent="Submit",n.classList.add("submit-project-button");let o=document.createElement("button");o.type="button",o.textContent="Cancel",o.classList.add("cancel-button");let l=document.createElement("div");l.classList.add("project-form-buttons"),l.appendChild(n),l.appendChild(o),e.appendChild(t),e.appendChild(l);let d=document.querySelector(".projects");function r(){t.value="",e.remove()}const i={projects:[],getProjects(){return this.projects},addProject(e){this.projects.push(e)},removeProject(e){let t=this.projects.findIndex((t=>t.name===e));this.projects.splice(t,1)},getAllTodos(){let e=[];for(let t=0;t<this.projects.length;t++)for(let n=0;n<this.projects[t].todos.length;n++)e.push(this.projects[t].todos[n]);return e.sort(((e,t)=>e.dueDate-t.dueDate))}};let c=document.createElement("form");c.classList.add("todo-form-container");let a=document.createElement("input");a.type="text",a.classList.add("todo-title-input"),a.required=!0;let u=document.createElement("input");u.type="text",u.classList.add("todo-description-input"),u.required=!0;let s=document.createElement("input");s.type="date",s.classList.add("duedate-input"),s.required=!0;let p=document.createElement("select");p.id="todo-priority",p.required=!0;let m=document.createElement("option");m.textContent="High Priority",m.value="High",m.selected=!0;let y=document.createElement("option");y.textContent="Medium Priority",y.value="Medium";let g=document.createElement("option");g.textContent="Low Priority",g.value="Low",p.appendChild(m),p.appendChild(y),p.appendChild(g);let C=document.createElement("select");C.id="todo-status-dropdown",C.name="todo-status-dropdown",C.required=!0;let h=document.createElement("option");h.textContent="No",h.value="no",h.selected=!0;let b=document.createElement("option");b.textContent="Yes",b.value="yes",C.appendChild(b),C.appendChild(h);let f=document.createElement("button");f.type="button",f.textContent="Submit",f.id="submit-todo";let v=document.createElement("button");v.type="button",v.textContent="Cancel",v.id="cancel-todo";let E=document.createElement("div");E.appendChild(f),E.appendChild(v),c.appendChild(a),c.appendChild(u),c.appendChild(s),c.appendChild(p),c.appendChild(C),c.appendChild(E);let S=document.querySelector(".content");function x(){a.value="",u.value="",s.value="",h.selected=!0,m.selected=!0,c.remove()}let q=document.querySelector(".todos");function j(e){let t=document.createElement("li"),n=document.createElement("div");n.classList.add("todo-container");let o=document.createElement("h3");o.classList.add("todo-title"),o.textContent=e.title;let l=document.createElement("p");l.classList.add("todo-description-paragraph"),l.textContent=e.description;let d=document.createElement("p");d.classList.add("todo-due-date"),d.textContent=e.dueDate;let r=document.createElement("p");r.classList.add(".todo-priority"),r.textContent=e.priority;let i=document.createElement("p");i.classList.add(".todo-status"),i.textContent=e.isDone;let c=document.createElement("button");c.type="button",c.id="edit-todo-btn",c.textContent="Edit";let a=document.createElement("button");a.type="button",a.id="delete-todo-button",a.textContent="Delete",n.appendChild(o),n.appendChild(l),n.appendChild(r),n.appendChild(i),n.appendChild(d),n.appendChild(c),n.appendChild(a),t.appendChild(n),q.appendChild(t)}let k=document.createElement("form");k.classList.add("todo-form-container");let L=document.createElement("input");L.type="text",L.classList.add("todo-title-input"),L.required=!0;let w=document.createElement("input");w.type="text",w.classList.add("todo-description-input"),w.required=!0;let D=document.createElement("input");D.type="date",D.classList.add("duedate-input"),D.required=!0;let P=document.createElement("select");P.id="todo-priority",P.required=!0;let I=document.createElement("option");I.textContent="High Priority",I.value="High";let T=document.createElement("option");T.textContent="Medium Priority",T.value="Medium";let B=document.createElement("option");B.textContent="Low Priority",B.value="Low",P.appendChild(I),P.appendChild(T),P.appendChild(B);let N=document.createElement("select");N.id="todo-status-dropdown",N.name="todo-status-dropdown",N.required=!0;let A=document.createElement("option");A.textContent="No",A.value="no",A.selected=!0;let H=document.createElement("option");H.textContent="Yes",H.value="yes",N.appendChild(H),N.appendChild(A);let M=document.createElement("button");M.type="button",M.textContent="Save Changes",M.id="save-todo-changes";let O=document.createElement("button");O.type="button",O.textContent="Cancel",O.id="cancel-todo";let V=document.createElement("div");V.appendChild(M),V.appendChild(O),k.appendChild(L),k.appendChild(w),k.appendChild(D),k.appendChild(P),k.appendChild(N),k.appendChild(V);let Y=document.querySelector(".content");function G(){k.remove()}function R(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function W(e){R(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===U(e)&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function X(e){R(1,arguments);var t=W(e);return t.setHours(0,0,0,0),t}function z(e,t){R(2,arguments);var n=X(e),o=X(t);return n.getTime()===o.getTime()}function F(e){return R(1,arguments),z(e,Date.now())}function J(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}var K={};function Q(){return K}function Z(e,t){var n,o,l,d,r,i,c,a;R(1,arguments);var u=Q(),s=J(null!==(n=null!==(o=null!==(l=null!==(d=null==t?void 0:t.weekStartsOn)&&void 0!==d?d:null==t||null===(r=t.locale)||void 0===r||null===(i=r.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==l?l:u.weekStartsOn)&&void 0!==o?o:null===(c=u.locale)||void 0===c||null===(a=c.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=W(e),m=p.getDay(),y=(m<s?7:0)+m-s;return p.setDate(p.getDate()-y),p.setHours(0,0,0,0),p}function $(e,t,n){R(2,arguments);var o=Z(e,n),l=Z(t,n);return o.getTime()===l.getTime()}function _(e,t){return R(1,arguments),$(e,Date.now(),t)}let ee;document.querySelector(".new-project").addEventListener("click",(()=>{d.appendChild(e)})),document.addEventListener("click",(function(e){e.target.closest(".cancel-button")&&r()})),document.addEventListener("click",(function(e){const t=e.target.closest(".submit-project-button");let n=document.querySelector(".projects-list"),o=document.createElement("li");o.classList.add("sidebar-project-item");let l=document.createElement("button");l.type="button",l.textContent="X",l.classList.add("delete-button");let d=document.createElement("div");if(d.classList.add("sidebar-project-container"),d.appendChild(o),d.appendChild(l),t){if(!document.querySelector(".project-form").checkValidity())return void alert("Please choose a name for this project.");for(let e=0;e<i.getProjects().length;e++)if(document.getElementById("new-project-name").value===i.getProjects()[e].name)return void alert("A project with this name already exists. Please choose a different name.");let e={name:document.getElementById("new-project-name").value,todos:[],addTodo(e){this.todos.push(e)},removeTodo(e){let t=this.todos.findIndex((t=>t.name===e.name));this.todos.splice(t,1)}};i.addProject(e),r(),o.textContent=e.name,n.appendChild(d)}})),document.addEventListener("click",(function(e){const t=e.target.closest(".delete-button");if(t){let e=t.previousElementSibling.textContent;if(document.querySelector(".content-title").textContent===e){document.querySelector(".content-title").textContent="",document.getElementById("add-todo-button").style.display="none";let e=document.querySelector(".todos");for(;e.firstChild;)e.firstChild.remove()}i.removeProject(e),t.parentNode.remove()}})),document.addEventListener("click",(function(e){const t=e.target.closest(".sidebar-project-item");if(t){let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";document.querySelector(".today").style.backgroundColor="transparent",document.querySelector(".this-week").style.backgroundColor="transparent",document.querySelector(".all").style.backgroundColor="transparent",t.style.backgroundColor="lightgray";let n=document.querySelector(".content-title"),o=document.querySelector(".todos");for(;o.firstChild;)o.firstChild.remove();n.textContent=t.textContent;let l=document.getElementById("add-todo-button");"none"===l.style.display&&(l.style.display="block");let d=i.getProjects().find((e=>e.name===n.textContent)).todos;for(let e=0;e<d.length;e++)j(d[e])}})),document.addEventListener("click",(function(e){e.target.closest("#add-todo-button")&&S.appendChild(c)})),document.addEventListener("click",(function(e){e.target.closest("#cancel-todo")&&x()})),document.addEventListener("click",(function(e){if(e.target.closest("#submit-todo")){let e=document.querySelector(".content-title"),t=i.getProjects().find((t=>t.name===e.textContent)),n=document.querySelector(".todo-title-input").value,o=document.querySelector(".todo-description-input").value,l=document.querySelector(".duedate-input").value,d=parseInt(l.substring(0,4)),r=parseInt(l.substring(5,7))-1,c=parseInt(l.substring(8)),a=new Date(d,r,c),u=document.getElementById("todo-priority").value,s=document.getElementById("todo-status-dropdown").value;if(!document.querySelector(".todo-form-container").checkValidity())return void alert("Please fill out all required fields.");let p={title:n,description:o,dueDate:a,priority:u,isDone:s};t.addTodo(p),x(),j(p)}})),document.addEventListener("click",(function(e){const t=e.target.closest("#delete-todo-button");if(t){let e=i.getProjects().find((e=>e.name===document.querySelector(".content-title").textContent)),n=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,o=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,l=e.todos.find((e=>e.title===n&&e.description===o));e.removeTodo(l);let d=document.querySelector(".todos");for(;d.firstChild;)d.firstChild.remove();let r=e.todos;for(let e=0;e<r.length;e++)j(r[e])}})),document.addEventListener("click",(function(e){const t=e.target.closest("#edit-todo-btn");if(t){let e=i.getProjects().find((e=>e.name===document.querySelector(".content-title").textContent)),o=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent,l=t.previousElementSibling.previousElementSibling.previousElementSibling.previousElementSibling.textContent;ee=e.todos.find((e=>e.title===o&&e.description===l)),n=ee,L.value=n.title,w.value=n.description,D.value=n.dueDate,"High"===n.priority?I.selected=!0:"Medium"===n.priority?T.selected=!0:B.selected=!0,"yes"===n.isDone?H.selected=!0:A.selected=!0,Y.appendChild(k)}var n})),document.addEventListener("click",(function(e){e.target.closest("#cancel-todo")&&G()})),document.addEventListener("click",(function(e){if(e.target.closest("#save-todo-changes")){let e=document.querySelector(".todo-title-input").value,t=document.querySelector(".todo-description-input").value,n=document.querySelector(".duedate-input").value,o=parseInt(n.substring(0,4)),l=parseInt(n.substring(5,7))-1,d=parseInt(n.substring(8)),r=new Date(o,l,d),i=document.getElementById("todo-priority").value,c=document.getElementById("todo-status-dropdown").value;if(!document.querySelector(".todo-form-container").checkValidity())return void alert("Please fill out all required fields.");let a,u=document.querySelector(".todos").children;for(let e=0;e<u.length;e++)u[e].firstChild.firstChild.textContent===ee.title&&u[e].firstChild.firstChild.nextSibling.textContent===ee.description&&(a=u[e].firstChild);ee.title=e,ee.description=t,ee.dueDate=r,ee.priority=i,ee.isDone=c,a.firstChild.textContent=e,a.firstChild.nextSibling.textContent=t,a.firstChild.nextSibling.nextSibling.textContent=i,a.firstChild.nextSibling.nextSibling.nextSibling.textContent=c,a.firstChild.nextSibling.nextSibling.nextSibling.nextSibling.textContent=r,G()}}));let te=document.querySelector(".today"),ne=document.querySelector(".this-week"),oe=document.querySelector(".all");te.addEventListener("click",(()=>{ne.style.backgroundColor="transparent",oe.style.backgroundColor="transparent",te.style.backgroundColor="lightgray";let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";document.querySelector(".content-title").textContent="Todos Due Today",document.getElementById("add-todo-button").style.display="none";let t=document.querySelector(".todos");for(;t.firstChild;)t.firstChild.remove();let n=i.getAllTodos();for(let e=0;e<n.length;e++)F(n[e].dueDate)&&j(n[e])})),ne.addEventListener("click",(()=>{te.style.backgroundColor="transparent",oe.style.backgroundColor="transparent",ne.style.backgroundColor="lightgray";let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";document.querySelector(".content-title").textContent="Todos Due This Week",document.getElementById("add-todo-button").style.display="none";let t=document.querySelector(".todos");for(;t.firstChild;)t.firstChild.remove();let n=i.getAllTodos();for(let e=0;e<n.length;e++)_(n[e].dueDate)&&j(n[e])})),oe.addEventListener("click",(()=>{te.style.backgroundColor="transparent",ne.style.backgroundColor="transparent",oe.style.backgroundColor="lightgray";let e=document.querySelectorAll(".sidebar-project-item");for(let t=0;t<e.length;t++)e[t].style.backgroundColor="transparent";document.querySelector(".content-title").textContent="All Upcoming Todos",document.getElementById("add-todo-button").style.display="none";let t=document.querySelector(".todos");for(;t.firstChild;)t.firstChild.remove();let n=i.getAllTodos();for(let e=0;e<n.length;e++)j(n[e])}))})();